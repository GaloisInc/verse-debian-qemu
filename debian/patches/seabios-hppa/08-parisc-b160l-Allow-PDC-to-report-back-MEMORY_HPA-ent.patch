From 11fa245a186a495f6cda3332482239f111cb37c8 Mon Sep 17 00:00:00 2001
From: Helge Deller <deller@gmx.de>
Date: Sat, 30 Dec 2023 14:47:00 +0100
Subject: [PATCH 08/23] parisc/b160l: Allow PDC to report back MEMORY_HPA entry
 on B160L

Tell calling operating system of the memory module.

Signed-off-by: Helge Deller <deller@gmx.de>
---
 src/parisc/b160l.h | 16 ++++++----------
 1 file changed, 6 insertions(+), 10 deletions(-)

diff --git a/roms/seabios-hppa/src/parisc/b160l.h b/roms/seabios-hppa/src/parisc/b160l.h
index d53e7bec..1b6993db 100644
--- a/roms/seabios-hppa/src/parisc/b160l.h
+++ b/roms/seabios-hppa/src/parisc/b160l.h
@@ -608,6 +608,12 @@ static struct pdc_iodc iodc_data_hpa_fff81000 = {
 		.mod_path = &mod_path_hpa_f8000000,\
 		.num_addr = HPA_f8000000_num_addr,\
 		.add_addr = { HPA_f8000000_add_addr } },\
+	{	.hpa = MEMORY_HPA,\
+		.iodc = &iodc_data_hpa_fffbf000,\
+		.mod_info = &mod_info_hpa_fffbf000,\
+		.mod_path = &mod_path_hpa_fffbf000,\
+		.num_addr = HPA_fffbf000_num_addr,\
+		.add_addr = { HPA_fffbf000_add_addr } },\
 	{	.hpa = 0xfff81000,\
 		.iodc = &iodc_data_hpa_fff81000,\
 		.mod_info = &mod_info_hpa_fff81000,\
@@ -621,13 +627,3 @@ static struct pdc_iodc iodc_data_hpa_fff81000 = {
 		.num_addr = HPA_fff10000_num_addr,\
 		.add_addr = { HPA_fff10000_add_addr } },\
 	{ 0, }
-
-#if 0
-	{	.hpa = MEMORY_HPA,\
-		.iodc = &iodc_data_hpa_fffbf000,\
-		.mod_info = &mod_info_hpa_fffbf000,\
-		.mod_path = &mod_path_hpa_fffbf000,\
-		.num_addr = HPA_fffbf000_num_addr,\
-		.add_addr = { HPA_fffbf000_add_addr } },\
-
-#endif
-- 
2.39.2

